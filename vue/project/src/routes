import Home from './components/contents/Main/MainPage.vue';
import Register from './components/contents/Register/Register.vue';
import {lApplication} from "./logic/lApplication";

const AppT = new lApplication();

const guard = function(to, from, next) {
  console.log('route guard:', to, from);
  //if (to.name == "Register") {
  if (!AppT.isUserAuth()) {
    console.log("access denied");
    window.location.href = "/";
  } else {
    console.log("access ok");
    next();
  }
};

export const routes = [
  {path: '', component: Home, name: 'Home', meta: { scrollToTop: true }},
  {path: '/registration', component: Register, name: 'Register', meta: { scrollToTop: true },
  beforeEnter: (to, from, next) => {
      guard(to, from, next);
     }
  },

];
